# BankOperations

# Описание:

BankOperations - проект для обработки и фильтрации банковских операций.
Приложение позволяет фильтровать операции по статусу и сортировать их по дате и по заданной валюте, а также генерировать правильные номера карт в заданном диапазоне!

## Установка:

1. Клонируйте репозиторий:
```
https://github.com/buserg75/BankOperations.git
```
2. Установите зависимости:
```
poetry install
```
## Использование:

1. Импортируйте модули processing (import processing), generators (import generators)
2. Вызовите функции filter_by_state, sort_by_date, filter_by_currency, transaction_descriptions
3. Пример ввода данных для функции filter_by_state: [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}, {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
4. Пример ввода данных для функции sort_by_date: [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}, {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
5. Пример ввода данных для функций filter_by_currency и transaction_descriptions: [{"id": 939719570, "state": "EXECUTED", "date": "2018-06-30T02:08:58.425572", "operationAmount": {"amount": "9824.07", "currency": {"name": "USD", "code": "USD"}},"description": "Перевод организации", "from": "Счет 75106830613657916952", "to": "Счет 11776614605963066702"}, {"id": 142264268, "state": "EXECUTED", "date": "2019-04-04T23:20:05.206878", "operationAmount": {"amount": "79114.93", "currency": {"name": "USD", "code": "USD"}}, "description": "Перевод со счета на счет", "from": "Счет 19708645243227258542", "to": "Счет 75651667383060284188"}, {"id": 873106923,  "state": "EXECUTED", "date": "2019-03-23T01:09:46.296404", "operationAmount": {"amount": "43318.34", "currency": {"name": "руб.", "code": "RUB"}}, "description": "Перевод со счета на счет", "from": "Счет 12258784861134719",
"to": "Счет 74489636417521191160"}, {"id": 895315941, "state": "EXECUTED", "date": "2018-08-19T04:27:37.904916", "operationAmount": {"amount": "56883.54", "currency": {"name": "USD", "code": "USD"}}, "description": "Перевод с карты на карту", "from": "Visa Classic 6831982476737658", "to": "Visa Platinum 8990922113665229"}, {"id": 594226727, "state": "CANCELED", "date": "2018-09-12T21:27:25.241689", "operationAmount": {"amount": "67314.70", "currency": {"name": "руб.", "code": "RUB"}}, "description": "Перевод организации", "from": "Visa Platinum 1246377376343588", "to": "Счет 14211924144426031657"}]
## Документация:
1. Функция filter_by_state в модуле processing принимает список словарей и опционально значение для ключа state (по умолчанию 'EXECUTED') и 
возвращает новый список словарей, содержащий только те словари, у которых ключ state соответствует указанному значению.
2. Функция sort_by_date в модуле processing принимает список словарей и необязательный параметр, задающий порядок сортировки (по умолчанию — убывание) и 
должна возвращать новый список, отсортированный по дате (date).
3. Функция filter_by_currency в модуле generators принимает список словарей на вход и возвращает итератор.
4. Функция-генератор transaction_descriptions в модуле generators принимает на вход список словарей с транзакциями и использует yield для генерации значений по запросу (возвращает описание каждой операции по очереди).
5. Генератор card_number_generator в модуле generators принимает значения start и stop в качестве аргумента и который выдает номера банковских карт в формате XXXX XXXX XXXX XXXX, где X — цифра номера карты.
6. Тестирование функции get_mask_card_number - это проверка правильности маскирования номера карты, проверка работы функции на различных входных форматах номеров карт,
включая граничные случаи и нестандартные длины номеров, а также строки и где отсутствует номер карты.
7. Тестирование функции get_mask_account - это проверка правильности маскирования номера счета, проверка работы функции с различными форматами и длинами номеров счетов,
а также проверка, что функция корректно обрабатывает входные данные, где номер счета меньше ожидаемой длины.
8. Тестирование функции mask_account_card - это проверка, что функция корректно распознает и применяет нужный тип маскировки в зависимости от типа входных данных (карта или счет).
Применяются параметризованные тесты с разными типами карт и счетов для проверки универсальности функции, а также проверка функции на обработку некорректных входных данных и проверка ее устойчивости к ошибкам.
9. Тестирование функции get_date - это проверка правильности преобразования даты, а также проверка работы функции на различных входных форматах даты,
включая граничные случаи и нестандартные строки с датами, и что функция корректно обрабатывает входные строки, где отсутствует дата.
10. Тестирование функции filter_by_state - это проверка фильтрации списка словарей по заданному статусу "state", а также проверка работы функции при отсутствии словарей с
указанным статусом "state" в списке.
Применяется параметризация тестов для различных возможных значений статуса "state".
11. Тестирование функции sort_by_date - это проверка сортировки списка словарей по датам в порядке убывания и возрастания, а также проверка корректности сортировки при одинаковых датах и
на работу функции с некорректными или нестандартными форматами дат.
12. Тестирование функции filter_by_currency - это проверка фильтрации списка словарей по заданной валюте,
а также проверка работы функции при обработке пустого списка или списка без соответствующих валютных операций.
13. Тестирование функции-генератора transaction_descriptions - это проверка, что функция возвращает корректные описания для каждой транзакции, а также проверка работы функции при обработке пустого списка.
14. Тестирование генератора card_number_generator - это проверка, что генератор выдает правильные номера карт в заданном диапазоне,
а также корректно обрабатывает крайние значения диапазона и правильно завершает генерацию.

## Лицензия:

Этот проект лицензирован по [лицензии MIT](LICENSE.txt).
